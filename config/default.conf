# Default configuration for transcription scripts

# Whisper model to use (tiny, base, small, medium, large)
WHISPER_MODEL="base"

# Whisper CLI path
WHISPER_CLI_PATH="${WHISPER_CLI_PATH:-whisper}"

# Audio settings
AUDIO_CHANNELS=1
AUDIO_SAMPLE_RATE=16000
AUDIO_FORMAT="s16l"  # 16-bit PCM

# VLC path
VLC_PATH="/Applications/VLC.app/Contents/MacOS/VLC"

# MacWhisper app path
MACWHISPER_PATH="/Applications/MacWhisper.app"

# Output formats
OUTPUT_FORMATS="txt"  # Can be: txt, srt, vtt, json

# Clean up intermediate files after processing
# 0 = keep all files, 1 = remove intermediate files
CLEANUP_TEMP_FILES=0

# Language (leave empty for auto-detection)
LANGUAGE=""

# lib/utils.sh

# Check if Whisper CLI is available at WHISPER_CLI_PATH or in PATH
function check_whisper_cli_path {
  if [ -x "$(command -v $WHISPER_CLI_PATH)" ]; then
    return 0
  elif [ -x "$(command -v whisper)" ]; then
    WHISPER_CLI_PATH="whisper"
    return 0
  else
    echo "Whisper CLI not found. Please install it or check your PATH."
    return 1
  fi
}

# Update the existing check_whisper function to use the new path handling
function check_whisper {
  if check_whisper_cli_path; then
    echo "Whisper CLI found at $WHISPER_CLI_PATH."
  else
    echo "Whisper CLI not found."
    exit 1
  fi
}